<div class="top-container">
    <h1 class="title">Работа со слоями</h1>

    <button class="close-button">
        <img src="assets/cross.svg" alt="close">
    </button>
</div>

<div class="content">
    <div class="mode-buttons">
        <button [ngClass]="{ 'selected': (mode | async) === 'new' }"
            (click)="mode.next('new')">
            создать новый
        </button>
        <button [ngClass]="{ 'selected': (mode | async) === 'existing' }"
            (click)="mode.next('existing')">
            сохраненные
        </button>
    </div>

    <div class="mode-content" 
        [ngSwitch]="mode | async">
        <div class="new" *ngSwitchCase="'new'">
            <div class="top-container">
                <input class="input" type="text"
                    placeholder="Название слоя">

                <button class="add">
                    <span class="plus"> + </span>
                    <span class="hint">добавить участок</span>
                </button>

                <div class="current-polygon">
                    <tp-saved-polygon class="saved-polygon">
                    </tp-saved-polygon>

                    <button class="erase-button">
                        <img src="assets/bin.svg" alt="erase">
                    </button>
                </div>
            </div>

            <div class="save-button-container">
                <button class="save-button">
                    Сохранить слой
                </button>
            </div>
        </div>

        <div class="existing" *ngSwitchCase="'existing'">
            <div class="input-container">
                <input class="input" type="text">
                <img src="assets/lens.svg">
            </div>

            <div class="polygon-container">
                <div class="polygon">
                    <tp-saved-polygon class="saved-polygon">
                    </tp-saved-polygon>

                    <div class="buttons-container">
                        <button class="remove-button">
                            <img src="assets/bin.svg" alt="remove">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
